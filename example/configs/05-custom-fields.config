/*
 * EXAMPLE 6: Custom Fields
 *
 * Add your own custom fields to notification messages.
 * Fields appear as key-value pairs in the Slack message.
 *
 * New features in this example:
 * - customFields: array of custom field objects
 *   - title: field name
 *   - value: field value
 *   - short: true for column layout, false for full width
 */

plugins {
    id 'nf-slack@0.1.0'
}

slack {
    webhook = System.getenv('SLACK_WEBHOOK_URL')

    // Add custom fields to start message
    startMessage = [
        text: 'üöÄ *Pipeline started*',
        color: '#3AA3E3',
        customFields: [
            [title: 'Priority', value: 'High', short: true],
            [title: 'Team', value: 'Bioinformatics', short: true],
            [title: 'Notes', value: 'Running with increased resources', short: false]
        ]
    ]

    // Add custom fields to completion message
    completeMessage = [
        text: '‚úÖ *Pipeline completed*',
        color: '#2EB887',
        customFields: [
            [title: 'Status', value: 'Success', short: true],
            [title: 'Quality', value: 'Passed', short: true]
        ]
    ]

    // Add custom fields to error message
    errorMessage = [
        text: '‚ùå *Pipeline failed*',
        color: '#A30301',
        customFields: [
            [title: 'Support Contact', value: 'team@example.com', short: true],
            [title: 'Action', value: 'Review logs and retry', short: false]
        ]
    ]
}

// Field structure:
// - title: field label (required)
// - value: field content (required)
// - short: true = appears in columns (2 per row)
//         false = appears full width

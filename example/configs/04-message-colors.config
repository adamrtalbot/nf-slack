/*
 * EXAMPLE 4: Message Colors
 *
 * Customize message colors using map-based configuration.
 * This introduces the advanced message format using maps instead of strings.
 *
 * New features in this example:
 * - Map-based message configuration
 * - text: message text (same as string format)
 * - color: custom hex color for the message attachment
 */

plugins {
    id 'nf-slack@0.2.1'
}

slack {
    bot {
        token = System.getenv('SLACK_BOT_TOKEN')
        channel = System.getenv('SLACK_CHANNEL_ID')
    }

    // Map-based configuration for start message
    onStart {
        enabled = true
        message = [
            text: 'üöÄ *Pipeline started*',
            color: '#3AA3E3'  // Blue color
        ]
    }

    // Map-based configuration for completion message
    onComplete {
        enabled = true
        message = [
            text: '‚úÖ *Pipeline completed*',
            color: '#2EB887'  // Green color
        ]
    }

    // Map-based configuration for error message
    onError {
        enabled = true
        message = [
            text: '‚ùå *Pipeline failed*',
            color: '#A30301'  // Red color
        ]
    }
}

// When you use a map, you can specify:
// - text: the message text
// - color: hex color code (e.g., '#FF5733')
//
// Default colors (if not specified):
// - Start: '#3AA3E3' (blue)
// - Complete: '#2EB887' (green)
// - Error: '#A30301' (red)

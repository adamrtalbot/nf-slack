/*
 * Example Nextflow configuration for nf-slack plugin
 */

plugins {
    id 'nf-slack@0.1.0'
}

// Slack configuration
slack {
    // Enable the plugin
    enabled = true

    // Webhook URL - replace with your actual webhook URL
    // For security, consider using Nextflow secrets instead
    webhook {
        url = System.getenv('SLACK_WEBHOOK_URL')
    }

    // Configure start notifications
    onStart {
        enabled = true
        includeCommandLine = true

        // Option 1: Simple string customization (uncomment to use)
        // message = 'üé¨ *Example workflow is starting!*'

        // Option 2: Advanced map-based customization (full control)
        message = [
            text: 'üöÄ *Example Pipeline Starting*',
            color: '#3AA3E3',
            includeFields: ['runName', 'status', 'commandLine'],
            customFields: [
                [title: 'Environment', value: 'Development', short: true],
                [title: 'Type', value: 'Example', short: true]
            ]
        ]
    }

    // Configure completion notifications
    onComplete {
        enabled = true
        includeCommandLine = true
        includeResourceUsage = true

        // Option 1: Simple string customization (uncomment to use)
        // message = 'üéâ *Example workflow completed successfully!*'

        // Option 2: Advanced map-based customization (full control)
        message = [
            text: '‚úÖ *Example Pipeline Complete*',
            color: '#2EB887',
            includeFields: ['runName', 'duration', 'status', 'tasks'],
            customFields: [
                [title: 'Status Page', value: 'https://example.com/status', short: false]
            ]
        ]
    }

    // Configure error notifications
    onError {
        enabled = true
        includeCommandLine = true

        // Option 1: Simple string customization (uncomment to use)
        // message = 'üí• *Example workflow encountered an error!*'

        // Option 2: Advanced map-based customization (full control)
        message = [
            text: '‚ùå *Example Pipeline Failed*',
            color: '#A30301',
            includeFields: ['runName', 'duration', 'errorMessage', 'failedProcess'],
            customFields: [
                [title: 'Support', value: 'support@example.com', short: true]
            ]
        ]
    }
}

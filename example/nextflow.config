/*
 * Example Nextflow configuration for nf-slack plugin
 */

plugins {
    id 'nf-slack'  // Use local dev version (installed with 'make install')
}

// Slack configuration
slack {
    // Enable the plugin
    enabled = true

    // ========================================
    // Option 1: Bot Authentication (Recommended)
    // ========================================
    // More secure and capable than webhooks
    // See docs/getting-started/bot-setup.md for setup instructions
    bot {
        token = System.getenv('SLACK_BOT_TOKEN')    // Bot token (xoxb-...)
        channel = System.getenv('SLACK_CHANNEL_ID')  // Channel ID (C1234567890)
    }

    // ========================================
    // Option 2: Webhook Authentication (Legacy)
    // ========================================
    // Uncomment this if you prefer webhooks
    // Note: If both bot and webhook are configured, bot takes precedence
    // webhook {
    //     url = System.getenv('SLACK_WEBHOOK_URL')
    // }

    // Enable automatic workflow notifications (default behavior)
    // These can be individually disabled in your config if desired
    onStart.enabled = true
    onComplete.enabled = true
    onError.enabled = true
}
